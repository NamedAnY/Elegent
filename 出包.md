<style>
body {
  background-color: #fdf6e3; /* 护眼背景 */
  color: #333;
  font-family: "Microsoft YaHei", Arial, sans-serif;
  line-height: 1.6;
}

h1 {
  font-size: 28px;
  color: #3a5fcd; /* 柔和蓝紫 */
  border-left: 6px solid #ffb347;
  padding-left: 12px;
  margin-top: 30px;
  margin-bottom: 15px;
}

h2 {
  font-size: 20px;
  color: #5c3d99; /* 深紫色 */
  margin-top: 20px;
  margin-bottom: 12px;
}

.section {
  background: #f0f9f6; /* 淡绿色卡片 */
  border: 1px solid #d3e0dc;
  border-radius: 10px;
  padding: 18px 20px;
  margin-bottom: 25px;
  box-shadow: 0 3px 8px rgba(0,0,0,0.08);
}

ol {
  padding-left: 22px;
}

code {
  background: #f5e6cc;
  color: #8b0000;
  padding: 3px 6px;
  border-radius: 5px;
  font-size: 90%;
}
</style>

# `trunk` 分支修改后同步到指定马甲包

<div class="section">

在进行 `马甲包` 更新时，需要确保 `trunk` 分支修改内容无误，然后同步至对应的 `马甲包` 进行编译、测试和提交。  

</div>

## 流程
<div class="section">

1. `trunk` 分支修改完成后，确认没有问题再提交至 `SVN`。  
2. 将本地的 `1.0.0` 与服务器的 `trunk` 合并，并确保本地 `1.0.0` 正常后提交至 `SVN`。  
3. 将本地的 `马甲包` 与服务器的 `1.0.0` 合并，经过编译、发布后导入 `微信开发者工具` 进行调试并上传。策划测试确认无误后，再提交 `SVN`。  

</div>

## 注意事项
<div class="section">

- 合并 `马甲包` 后，需要使用 **`VSCode`** 进行一次完整编译，因为部分代码（如 `GameCfg`）存在差异，编译后可确保 `src` 目录内容正确生成到 `bin` 目录。  
- 合并完成后必须在 **`Laya`** 中发布，只有发布操作才能保证 `release` 目录下的内容是最新且正确的。  

</div>

# 更新（同步）版本

## 流程
<div class="section">

1. 将本地的 `马甲包` 与服务器的 `1.0.0` 进行合并（注意勾选 `1.0.0` 中所有未合并的版本）。  
2. 编译、发布本地 `马甲包`，然后导入到 `微信开发者工具` 进行调试并上传。策划测试确认无误后再提交 `SVN`。  

</div>

## 注意
<div class="section">

- 合并时，需要勾选 `1.0.0` 中所有未合并过的版本，以确保完整同步。  

</div>

# 相同平台出新包

## 流程
<div class="section">

1. 复制一份相同平台的旧包到 `SVN` 服务器作为新包。  
2. 修改 `game.laya` 文件，避免项目名混淆。  
3. 修改 `GameCfg` 中的配置信息（如 `gameID`、`appID`、`videoID` 等），以及游戏中的 logo。  
4. 检查项目是否能正常运行。  

</div>

## 注意
<div class="section">

- 有关远程资源与远程配置文件的使用，需要时联系续哥或鑫哥添加远程配置。  

</div>

# 不同平台出新包（微信转抖音）

## 流程
<div class="section">

1. 复制一份微信平台的马甲包到 `SVN` 服务器作为抖音平台的新包。  
2. 从其它项目的抖音包中复制 `bytedancegame` 文件夹和 `playableTemplates` 文件夹到 `game/.laya` 文件夹下，同时复制 `publish.js` 到 `game` 文件夹下替换老平台的文件。  
3. 修改 `GameCfg` 中的相关数据。  
4. 检查项目中其他与平台有关的内容，如 `SDK` 等，一直修改直到能够正常运行。

</div>

## 注意
<div class="section">

- 更换平台后需要检查对应 `SDK` 是否更新，如在 `SdkMgr` 中是否有 `new()` 初始化。  
- 注意 `index.js` 中加载的库文件是否正确。  
- 注意 `gulpfile.js` 中的 `.pipe(gulp.dest('./release/wxgame/js'))` 是否替换为新平台路径。  

</div>
